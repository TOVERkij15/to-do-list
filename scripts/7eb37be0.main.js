List=Backbone.Model.extend({defaults:{list:""},idAttribute:"_id"}),ListCollection=Backbone.Collection.extend({model:List,url:"http://tiny-pizza-server.herokuapp.com/collections/TK-List"}),ListView=Backbone.View.extend({template:_.template($(".list-chore").text()),editTemplate:_.template($(".list-edit-chore").text()),events:{"click .edit-list":"editList","click .remove-list":"deleteList","click .store-list":"saveList"},initialize:function(){this.listenTo(this.model,"change",this.render),$(".container").append(this.el),this.render()},render:function(){var a=this.template(this.model.attributes);this.$el.html(a)},editList:function(){var a=this.editTemplate(this.model.attributes);this.$el.html(a)},deleteList:function(){this.model.destroy(),this.remove()},saveList:function(){var a=this.$el.find(".field input").val();console.log(a),this.model.set("list",a),this.model.save()}}),$(function(){$(".add-list").click(function(){var a=$(".add-list-input").val(),b=toDoList.add({list:a});b.save()})}),AppView=Backbone.View.extend({initialize:function(){this.listenTo(toDoList,"add",function(a){new ListView({model:a})})}});var toDoList=new ListCollection,app=new AppView;toDoList.fetch();